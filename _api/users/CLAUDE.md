# _api/users/
> L2 | 父级: /_api/CLAUDE.md

## 成员清单

index.ts: 用户管理端点，获取用户信息、更新个人资料、上传头像、修改设置

## 依赖关系
- 依赖 Redis 存储用户数据
- 依赖 _utils/auth 认证验证
- 依赖 formidable 处理文件上传
- 被前端用户设置调用

## 用户约束
1. 用户名必须唯一，3-20 字符，字母数字下划线
2. 头像上传限制 2MB，支持 JPG/PNG/GIF
3. 头像存储到 public/avatars/，文件名使用用户名
4. 个人资料包含用户名、昵称、头像、简介、邮箱
5. 敏感信息（密码哈希）不返回给前端
6. 用户设置包含主题、语言、音效、通知偏好
7. 用户数据存储到 Redis Hash，持久化

[PROTOCOL]: 变更时更新此头部，然后检查 CLAUDE.md
