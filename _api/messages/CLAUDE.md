# _api/messages/
> L2 | 父级: /_api/CLAUDE.md

## 成员清单

bulk.ts: 批量消息操作端点，批量获取消息、批量删除消息、批量标记已读

## 依赖关系
- 依赖 Redis 存储消息数据
- 依赖 Pusher 实时通知
- 依赖 _utils/auth 认证验证
- 被前端聊天应用调用

## 消息约束
1. 消息 ID 使用 UUID 生成，保证唯一性
2. 消息存储到 Redis List，按时间排序
3. 批量操作必须有数量限制（最多 100 条）
4. 删除消息时同步通知所有在线用户
5. 消息必须有发送者、接收者、时间戳
6. 支持文本、图片、语音、文件消息
7. 消息必须有已读/未读状态

[PROTOCOL]: 变更时更新此头部，然后检查 CLAUDE.md
